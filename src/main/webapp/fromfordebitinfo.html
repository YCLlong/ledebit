<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>贷款人更新表单</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="css/layui.css"  media="all">
</head>
<body>
<fieldset class="layui-elem-field layui-field-title" style="margin-top: 50px;">
    <legend>贷款人更新表单</legend>
</fieldset>
<form class="layui-form layui-form-pane">
    <!--<div class="layui-form-item">-->
        <!--<label class="layui-form-label">长输入框</label>-->
        <!--<div class="layui-input-block">-->
            <!--<input type="text" name="title" autocomplete="off" placeholder="请输入标题" class="layui-input">-->
        <!--</div>-->
    <!--</div>-->
    <div class="layui-form-item">
            <label class="layui-form-label">年龄</label>
            <div class="layui-input-inline">
                <input type="text" id="age" name="age" lay-verify="fage|required" placeholder="请输入年龄，取整数" autocomplete="off" class="layui-input">
            </div>
    </div>
    <div class="layui-form-item">
            <label class="layui-form-label">身份证</label>
            <div class="layui-input-block">
                <input type="text" name="identitys" id="identity" lay-verify="identity|required" placeholder="请输入13位身份证" autocomplete="off" class="layui-input">
            </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">姓名</label>
        <div class="layui-input-inline">
            <input name="name" id="name" class="layui-input" type="text" placeholder="请输入姓名" autocomplete="off" lay-verify="fname|required">
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">所在城市</label>
        <div class="layui-input-block">
            <input name="location" class="layui-input" type="text" placeholder="请输入所在城市" autocomplete="off" lay-verify="required">
        </div>
    </div>
    <div class="layui-form-item">
            <label class="layui-form-label">验证手机</label>
            <div class="layui-input-inline">
                <input type="tel" name="tel" placeholder="请输入13位手机号" lay-verify="required|phone" autocomplete="off" class="layui-input">
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label" >性别</label>
        <div class="layui-input-block">
            <input type="radio" name="gender" lay-filter="sex" value="1" title="男" checked="">
            <input type="radio" name="gender" lay-filter="sex" value="0" title="女">
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">验证邮箱</label>
        <div class="layui-input-inline">
            <input type="text" id="email" placeholder="请输入邮箱,格式为xx@xx.com"  name="email" lay-verify="email|required" autocomplete="off" class="layui-input">
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">信用级别</label>
        <div class="layui-input-block">
            <select name="creditrank" lay-filter="creditrank">
                <option value=""></option>
                <option value="0">新人</option>
                <option value="10">铜</option>
                <option value="20">银</option>
                <option value="30">金</option>
                <option value="40">至尊</option>
            </select>
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">借贷方式</label>
        <div class="layui-input-block">
            <select name="debittype" lay-filter="debittype">
                <option value="">选择一种借贷方式</option>
                <option value="1">线上贷款</option>
                <option value="2">线下贷款</option>
            </select>
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">注册人id</label>
        <div class="layui-input-block">
            <input name="userId" id="userid" class="layui-input" type="text" placeholder="请输入用户id" autocomplete="off" lay-verify="userid|required">
        </div>
    </div>
    <div class="layui-form-item">
        <div class="layui-input-block">
            <button class="layui-btn" lay-submit="" lay-filter="submit">立即提交</button>
            <button class="layui-btn layui-btn-primary" type="reset">重置</button>
        </div>
    </div>
</form>
<script src="/layui.js" charset="utf-8"></script>
<!-- 注意：如果你直接复制所有代码到本地，上述js路径需要改成你本地的 -->
<script src="js/jquery-3.0.0.min.js"></script>
<script>layui.use(['form', 'laydate'], function(){
    $=layui.jquery
var form = layui.form
,layer = layui.layer
, laydate = layui.laydate;
//自定义验证规则
form.render();
form.verify({
    fname: [/^[\u4E00-\u9FA5]{1,6}$/,"名字不合法"]
    ,age:[ /^([1]?\d{1,2})$/,'年龄不合法']
,identity:[/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/,"身份证格式不合法"]
,phone: [/^1[3|4|5|7|8]\d{9}$/, '手机必须11位，只能是数字！']
        ,email: [/^[a-z0-9._%-]+@([a-z0-9-]+\.)+[a-z]{2,4}$|^1[3|4|5|7|8]\d{9}$/, '邮箱格式不对']
});
//监听select
    form.on('select(xinyongrank)', function(data){
//        console.log(data.elem); //得到select原始DOM对象
        console.log(data.value); //得到被选中的值
//        console.log(data.othis); //得到美化后的DOM对象
    });

    form.on('select(debitype)', function(data){
//        console.log(data.elem); //得到select原始DOM对象
        console.log(data.value); //得到被选中的值
//        console.log(data.othis); //得到美化后的DOM对象
    });
//监听提交
form.on('submit(submit)', function(data){
    $.ajax({
        // 用 127.0.0.1 要设置某些头部
        url: 'http://localhost:8080/backend/debitinfo/saved.do', // Request url
        // 你的 jQuery 版本太低，用 type 属性
        type: "POST", // The HTTP method to use for the request
        dataType: 'json', // The type of data that you're expecting back from the server,
        data:data.field, // Data to be sent to the server
        success(res) {
            if (res.status == 1) {
                layer.alert(res.msg + "抱歉",{title:"提示",icon:5});
            }
            if (res.status == 0) {
                layer.alert(res.msg + "可跳回",{title:"提示",icon:6});
            }
        },
    });
    return false;
});
});
</script>
</body>
</html>